<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ZON SHOP</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #ffffff;
      color: #111827;
      -webkit-font-smoothing: antialiased;
    }

    a { color: inherit; text-decoration: none; }

    .page {
      max-width: 1120px;
      margin: 0 auto;
      padding: 16px 14px 40px;
    }

    /* HEADER */
    header {
      border-bottom: 1px solid #e5e7eb;
      position: sticky;
      top: 0;
      z-index: 20;
      background: rgba(255,255,255,0.96);
      backdrop-filter: blur(10px);
    }

    .header-inner {
      max-width: 1120px;
      margin: 0 auto;
      padding: 10px 14px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      flex-wrap: wrap;
    }

    .header-left {
      display: flex;
      align-items: center;
      gap: 14px;
    }

    .header-left a {
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }

    .header-left img {
      height: 56px;
      width: auto;
      display: block;
      cursor: pointer;
    }

    .header-title {
      display: flex;
      flex-direction: column;
      gap: 1px;
    }

    .drop-label {
      font-size: 0.72rem;
      text-transform: uppercase;
      letter-spacing: 0.2em;
      color: #111827;
    }

    .drop-sub {
      font-size: 0.78rem;
      color: #6b7280;
    }

    .header-right {
      display: flex;
      align-items: center;
      gap: 12px;
      flex-wrap: wrap;
    }

    .nav-pills {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      font-size: 0.78rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
    }

    .nav-pill {
      padding: 5px 10px;
      border-radius: 999px;
      border: 1px solid #e5e7eb;
      cursor: pointer;
      background: #ffffff;
    }

    .nav-pill.active {
      background: #111827;
      color: #ffffff;
      border-color: #111827;
    }

    .cart-pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 0.78rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      border-radius: 999px;
      border: 1px solid #111827;
      padding: 5px 12px;
      cursor: pointer;
      background: #ffffff;
    }

    .cart-icon {
      font-size: 0.9rem;
    }

    .cart-count {
      font-size: 0.78rem;
    }

    /* BIG PAGE TITLE */
    .shop-hero {
      text-align: center;
      margin-top: 22px;
      margin-bottom: 14px;
    }

    .shop-hero-title {
      font-size: 2rem;
      text-transform: uppercase;
      letter-spacing: 0.22em;
    }

    .shop-hero-sub {
      margin-top: 4px;
      font-size: 0.86rem;
      color: #6b7280;
    }

    /* SEARCH + TOOLS */
    .toolbar {
      margin-top: 12px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      align-items: center;
      justify-content: space-between;
      font-size: 0.8rem;
    }

    .search-wrap {
      display: flex;
      align-items: center;
      gap: 6px;
      flex: 1 1 220px;
      max-width: 360px;
      border-radius: 999px;
      border: 1px solid #e5e7eb;
      padding: 6px 10px;
      background: #f9fafb;
    }

    .search-wrap span {
      font-size: 0.8rem;
      color: #9ca3af;
    }

    .search-input {
      border: none;
      outline: none;
      font-size: 0.8rem;
      background: transparent;
      width: 100%;
    }

    .tools-right {
      display: flex;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
    }

    .sort-select {
      border-radius: 999px;
      border: 1px solid #e5e7eb;
      padding: 5px 10px;
      font-size: 0.78rem;
      background: #ffffff;
    }

    .saved-toggle {
      border-radius: 999px;
      border: 1px solid #e5e7eb;
      padding: 5px 10px;
      font-size: 0.78rem;
      background: #ffffff;
      display: flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
    }

    .saved-toggle.active {
      background: #111827;
      color: #ffffff;
      border-color: #111827;
    }

    .saved-toggle span {
      font-size: 0.8rem;
    }

    .saved-hint {
      margin-top: 6px;
      font-size: 0.74rem;
      color: #9ca3af;
    }

    /* GRID */
    .grid-wrap {
      margin-top: 20px;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 16px;
    }

    .product-card {
      border-radius: 16px;
      border: 1px solid #e5e7eb;
      padding: 8px;
      background: #ffffff;
      box-shadow: 0 10px 26px rgba(0,0,0,0.04);
      cursor: pointer;
      display: flex;
      flex-direction: column;
      gap: 6px;
      position: relative;
      transition: transform 0.18s ease, box-shadow 0.18s ease, border-color 0.18s ease, opacity 0.35s ease;
      opacity: 1;
      transform: translateY(0);
    }

    .product-card.hidden {
      opacity: 0;
      transform: translateY(10px);
    }

    .product-card.show {
      opacity: 1;
      transform: translateY(0);
    }

    .product-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 16px 40px rgba(0,0,0,0.08);
      border-color: #111827;
    }

    .product-img {
      border-radius: 12px;
      overflow: hidden;
      background: #f3f4f6;
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 220px;
    }

    .product-img img {
      width: 100%;
      display: block;
      object-fit: contain; /* keeps your hoodies/tees in shape */
    }

    .badge-secondary {
      position: absolute;
      top: 8px;
      right: 8px;
      padding: 3px 8px;
      border-radius: 999px;
      font-size: 0.7rem;
      background: rgba(255,255,255,0.9);
      border: 1px solid #e5e7eb;
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .badge-heart {
      font-size: 0.8rem;
    }

    .badge-secondary.active {
      background: #111827;
      color: #ffffff;
      border-color: #111827;
    }

    .product-info-top {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      gap: 6px;
      margin-top: 6px;
    }

    .name-wrap {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .product-name {
      font-size: 0.9rem;
      font-weight: 600;
    }

    .product-age {
      font-size: 0.65rem;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      color: #9ca3af;
    }

    .product-age-new {
      color: #16a34a;
    }

    .product-age-og {
      color: #6b7280;
    }

    .product-price {
      font-size: 0.8rem;
      color: #4b5563;
    }

    .product-meta {
      font-size: 0.74rem;
      color: #6b7280;
      margin-top: 2px;
    }

    .product-color {
      font-size: 0.72rem;
      color: #6b7280;
      margin-top: 1px;
    }

    .product-type {
      font-size: 0.72rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: #9ca3af;
      margin-top: 2px;
    }

    .empty-state {
      text-align: center;
      font-size: 0.85rem;
      color: #6b7280;
      padding: 30px 10px;
    }

    /* DETAIL / CART OVERLAY */
    .detail-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.6);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 40;
      padding: 14px;
    }

    .detail-overlay.open {
      display: flex;
    }

    .detail-card {
      background: #ffffff;
      width: 100%;
      max-width: 780px;
      border-radius: 18px;
      padding: 16px;
      display: grid;
      grid-template-columns: minmax(0, 1.1fr) minmax(0, 1.1fr);
      gap: 16px;
      position: relative;
      box-shadow: 0 22px 60px rgba(0,0,0,0.35);
      font-size: 0.86rem;
    }

    .detail-img {
      border-radius: 14px;
      overflow: hidden;
      background: #f3f4f6;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 260px;
    }

    .detail-img img {
      width: 100%;
      display: block;
      object-fit: contain;
    }

    .detail-info {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .detail-close {
      position: absolute;
      top: 8px;
      right: 12px;
      border: none;
      background: none;
      font-size: 1.3rem;
      cursor: pointer;
      color: #9ca3af;
    }

    .detail-type {
      font-size: 0.72rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: #6b7280;
    }

    .detail-name {
      font-size: 1.1rem;
      font-weight: 600;
      margin-top: 2px;
    }

    .detail-price {
      font-size: 0.9rem;
      color: #4b5563;
      margin-top: 2px;
    }

    .detail-tag {
      font-size: 0.72rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: #111827;
      margin-top: 2px;
    }

    .detail-divider {
      margin: 8px 0;
      height: 1px;
      background: #e5e7eb;
      width: 100%;
    }

    .detail-mirror {
      font-size: 0.8rem;
      color: #4b5563;
      margin-top: 2px;
    }

    .size-row-wrap {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      gap: 8px;
      margin-top: 10px;
    }

    .size-label {
      font-size: 0.76rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: #6b7280;
    }

    .size-guide-link {
      font-size: 0.76rem;
      text-decoration: underline;
      cursor: pointer;
      color: #4b5563;
    }

    .size-row {
      margin-top: 6px;
      display: flex;
      gap: 6px;
      flex-wrap: wrap;
    }

    .size-pill {
      border-radius: 999px;
      border: 1px solid #e5e7eb;
      padding: 5px 10px;
      font-size: 0.8rem;
      cursor: pointer;
      background: #ffffff;
    }

    .size-pill.active {
      background: #111827;
      color: #ffffff;
      border-color: #111827;
    }

    .detail-actions {
      margin-top: 12px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      align-items: center;
    }

    .btn-add {
      border-radius: 999px;
      border: 1px solid #111827;
      background: #111827;
      color: #ffffff;
      padding: 7px 16px;
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      cursor: pointer;
    }

    .btn-secondary {
      border-radius: 999px;
      border: 1px solid #e5e7eb;
      background: #f9fafb;
      color: #111827;
      padding: 7px 12px;
      font-size: 0.78rem;
      cursor: pointer;
    }

    .detail-note {
      margin-top: 8px;
      font-size: 0.75rem;
      color: #9ca3af;
    }

    /* CART CARD */
    .cart-card {
      max-width: 520px;
      grid-template-columns: minmax(0, 1fr);
    }

    .cart-title {
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: #6b7280;
      margin-bottom: 4px;
    }

    .cart-list {
      font-size: 0.82rem;
      max-height: 260px;
      overflow-y: auto;
      margin-top: 4px;
      border-top: 1px solid #e5e7eb;
      border-bottom: 1px solid #e5e7eb;
      padding: 6px 0;
    }

    .cart-item {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      gap: 8px;
      padding: 4px 0;
    }

    .cart-item-main {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .cart-item-name {
      font-size: 0.84rem;
    }

    .cart-item-meta {
      font-size: 0.75rem;
      color: #6b7280;
    }

    .cart-total {
      margin-top: 6px;
      font-size: 0.84rem;
      display: flex;
      justify-content: space-between;
    }

    .cart-note {
      margin-top: 6px;
      font-size: 0.76rem;
      color: #9ca3af;
    }

    @media (max-width: 780px) {
      .detail-card {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    @media (max-width: 640px) {
      .toolbar {
        flex-direction: column;
        align-items: stretch;
      }
    }

    /* SIZE GUIDE OVERLAY */
    .size-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.55);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 45;
      padding: 14px;
    }

    .size-overlay.open {
      display: flex;
    }

    .size-panel {
      background: #ffffff;
      width: 100%;
      max-width: 520px;
      border-radius: 18px;
      padding: 14px 16px 14px;
      box-shadow: 0 22px 60px rgba(0,0,0,0.35);
      font-size: 0.8rem;
    }

    .size-panel-top {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }

    .size-panel-title {
      font-size: 0.86rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: #6b7280;
    }

    .size-panel-close {
      border: none;
      background: none;
      cursor: pointer;
      font-size: 1.2rem;
      color: #9ca3af;
    }

    .size-panel-body {
      color: #4b5563;
    }

    .size-table-wrap {
      margin-top: 8px;
      display: grid;
      grid-template-columns: repeat(5, minmax(0,1fr));
      gap: 4px;
      font-size: 0.78rem;
    }

    .size-table-head {
      font-weight: 600;
      color: #111827;
      border-bottom: 1px solid #e5e7eb;
      padding-bottom: 2px;
    }

    .size-cell-muted {
      color: #6b7280;
    }

    .size-note {
      margin-top: 8px;
      font-size: 0.76rem;
      color: #9ca3af;
    }

    /* SIMPLE FOOTER */
    footer {
      margin-top: 32px;
      border-top: 1px solid #e5e7eb;
      padding-top: 14px;
      font-size: 0.78rem;
      color: #6b7280;
      text-align: center;
    }

    .footer-line {
      margin-bottom: 6px;
    }

    .footer-line a {
      text-decoration: underline;
    }

    .footer-socials a {
      text-decoration: underline;
      margin: 0 4px;
    }
  </style>
</head>
<body>
  <header>
    <div class="header-inner">
      <div class="header-left">
        <a href="index.html">
          <img src="zon-logo.png" alt="ZON Logo" />
        </a>
        <div class="header-title">
          <div class="drop-label">ZON SHOP</div>
          <div class="drop-sub">Drop 001 ¬∑ Hoodies & Tees</div>
        </div>
      </div>
      <div class="header-right">
        <div class="nav-pills">
          <button class="nav-pill active" data-filter="all">All</button>
          <button class="nav-pill" data-filter="hoodie">Hoodies</button>
          <button class="nav-pill" data-filter="tee">Tees</button>
        </div>
        <div class="cart-pill" id="cartPill">
          <span class="cart-icon">üõí</span>
          <span class="cart-count">0</span>
        </div>
      </div>
    </div>
  </header>

  <main class="page">
    <!-- BIG CENTERED TITLE -->
    <section class="shop-hero">
      <div class="shop-hero-title">ZON SHOP</div>
      <div class="shop-hero-sub">Drop 001 ¬∑ Hoodies & Tees</div>
    </section>

    <!-- TOOLBAR -->
    <section class="toolbar">
      <div class="search-wrap">
        <span>üîç</span>
        <input
          id="searchInput"
          class="search-input"
          type="text"
          placeholder="Search motion, hoodies, tees..."
        />
      </div>
      <div class="tools-right">
        <select id="sortSelect" class="sort-select">
          <option value="featured">Sort: Featured</option>
          <option value="priceLow">Price: Low to High</option>
          <option value="priceHigh">Price: High to Low</option>
          <option value="name">Name A‚ÄìZ</option>
        </select>
        <button id="savedToggle" class="saved-toggle" type="button">
          <span>‚ô•</span>
          <span>Saved in Motion</span>
        </button>
      </div>
    </section>
    <div class="saved-hint">
      Tap ‚ô• on any piece to build your own wall. Turn on ‚ÄúSaved in Motion‚Äù to view only your picks.
    </div>

    <!-- PRODUCT GRID -->
    <section class="grid-wrap" id="productGrid">
      <!-- Filled by JS -->
    </section>

    <!-- DETAIL MODAL -->
    <div class="detail-overlay" id="detailOverlay">
      <div class="detail-card">
        <button class="detail-close" id="detailClose" type="button">√ó</button>
        <div class="detail-img">
          <img id="detailImg" src="" alt="ZON Product" />
        </div>
        <div class="detail-info">
          <div class="detail-type" id="detailType"></div>
          <div class="detail-name" id="detailName"></div>
          <div class="detail-price" id="detailPrice"></div>
          <div class="detail-tag" id="detailTag"></div>

          <div class="detail-divider"></div>

          <div class="detail-mirror" id="detailMirror"></div>

          <div class="size-row-wrap">
            <div class="size-label">Select size</div>
            <button type="button" class="size-guide-link" id="sizeGuideBtn">
              Size guide
            </button>
          </div>

          <div class="size-row" id="sizeRow">
            <button class="size-pill" data-size="S" type="button">S</button>
            <button class="size-pill active" data-size="M" type="button">M</button>
            <button class="size-pill" data-size="L" type="button">L</button>
            <button class="size-pill" data-size="XL" type="button">XL</button>
          </div>

          <div class="detail-actions">
            <button class="btn-add" id="detailAdd" type="button">Add to cart</button>
            <button class="btn-secondary" id="detailFav" type="button">‚ô• Save</button>
          </div>

          <div class="detail-note">
            Preview only. Sizing and checkout will be locked when ZON goes fully live. For now, this is
            about building the universe.
          </div>
        </div>
      </div>
    </div>

    <!-- CART MODAL -->
    <div class="detail-overlay" id="cartOverlay">
      <div class="detail-card cart-card">
        <button class="detail-close" id="cartClose" type="button">√ó</button>
        <div>
          <div class="cart-title">Cart preview</div>
          <div class="cart-list" id="cartList">
            <!-- items injected -->
          </div>
          <div class="cart-total" id="cartTotal">
            <span>Total</span>
            <span>$0.00</span>
          </div>
          <div class="cart-note">
            This is a preview cart only. When ZON goes fully live, this is where checkout unlocks.
          </div>
        </div>
      </div>
    </div>

    <!-- SIZE GUIDE MODAL -->
    <div class="size-overlay" id="sizeOverlay">
      <div class="size-panel">
        <div class="size-panel-top">
          <div class="size-panel-title">ZON Size Guide</div>
          <button class="size-panel-close" id="sizeClose" type="button">√ó</button>
        </div>
        <div class="size-panel-body">
          <div>Rough streetwear fit guide for hoodies & tees.</div>

          <div class="size-table-wrap" style="margin-top:10px;">
            <div class="size-table-head">Size</div>
            <div class="size-table-head">Height</div>
            <div class="size-table-head">Chest</div>
            <div class="size-table-head">Fit</div>
            <div class="size-table-head">Notes</div>

            <div class="size-cell-muted">S</div>
            <div class="size-cell-muted">5'4"‚Äì5'7"</div>
            <div class="size-cell-muted">34‚Äì37"</div>
            <div class="size-cell-muted">True / slim</div>
            <div class="size-cell-muted">Snug, cleaner fit.</div>

            <div class="size-cell-muted">M</div>
            <div class="size-cell-muted">5'6"‚Äì5'10"</div>
            <div class="size-cell-muted">37‚Äì40"</div>
            <div class="size-cell-muted">True</div>
            <div class="size-cell-muted">Default ZON fit.</div>

            <div class="size-cell-muted">L</div>
            <div class="size-cell-muted">5'9"‚Äì6'1"</div>
            <div class="size-cell-muted">40‚Äì44"</div>
            <div class="size-cell-muted">Slightly oversized</div>
            <div class="size-cell-muted">Roomy, street look.</div>

            <div class="size-cell-muted">XL</div>
            <div class="size-cell-muted">6'0"+</div>
            <div class="size-cell-muted">44‚Äì48"</div>
            <div class="size-cell-muted">Oversized</div>
            <div class="size-cell-muted">Baggy, heavy drape.</div>
          </div>

          <div class="size-note">
            This is a rough guide for preview only. When ZON goes fully live, exact measurements and fabric
            details will be listed on each piece.
          </div>
        </div>
      </div>
    </div>

    <!-- SIMPLE FOOTER -->
    <footer>
      <div class="footer-line">
        ¬© 2025 ZON ¬∑ MotionTherapy.
        ¬∑ <a href="coming-soon.html">Drop 002 ¬∑ Coming Soon</a>
      </div>
      <div class="footer-socials">
        Instagram:
        <a href="https://instagram.com/zontherapy" target="_blank">@zontherapy</a>
        ¬∑ TikTok:
        <a href="https://tiktok.com/@zontherapy" target="_blank">@zontherapy</a>
        ¬∑ Email:
        <a href="mailto:dwaynezonmerch@gmail.com">dwaynezonmerch@gmail.com</a>
      </div>
    </footer>
  </main>

  <script>
    // PRODUCT DATA
    const products = [
      {
        id: "hoodie-devil",
        name: "Devil Boy Hoodie",
        type: "hoodie",
        price: 35,
        tag: "Drop 001",
        img: "hoodie-devil.png",
        imgAlt: "hoodie-devil.png",
        mood: "heartbreak",
        color: "Black / Red",
        age: "new",
      },
      {
        id: "hoodie-lollipop",
        name: "Girl Lollipop Hoodie",
        type: "hoodie",
        price: 35,
        tag: "Drop 001",
        img: "hoodie-lollipop.png",
        imgAlt: "hoodie-lollipop.png",
        mood: "playful",
        color: "White / Blue / Pink",
        age: "new",
      },
      {
        id: "hoodie-slaves",
        name: "We Stackin Hoodie",
        type: "hoodie",
        price: 35,
        tag: "Drop 001",
        img: "hoodie-slaves.png",
        imgAlt: "hoodie-slaves.png",
        mood: "money",
        color: "Black / Green",
        age: "og",
      },
      {
        id: "hoodie-money",
        name: "Money Motion Hoodie",
        type: "hoodie",
        price: 35,
        tag: "Drop 001",
        img: "hoodie-money.png",
        imgAlt: "hoodie-money.png",
        mood: "grind",
        color: "Black / Green",
        age: "new",
      },
      {
        id: "hoodie-motiontherapy",
        name: "MotionTherapy Hoodie",
        type: "hoodie",
        price: 35,
        tag: "Drop 001",
        img: "hoodie-motiontherapy.png",
        imgAlt: "hoodie-motiontherapy.png",
        mood: "therapy",
        color: "Black / White",
        age: "og",
      },
      {
        id: "hoodie-crossface",
        name: "Cross Face Hoodie",
        type: "hoodie",
        price: 35,
        tag: "Drop 001",
        img: "hoodie-crossface.png",
        imgAlt: "hoodie-crossface.png",
        mood: "dark",
        color: "Black / Red",
        age: "new",
      },
      // Tees
      {
        id: "tee-devil",
        name: "Devil Boy Tee",
        type: "tee",
        price: 25,
        tag: "Drop 001",
        img: "hoodie-devil.png",
        imgAlt: "hoodie-devil.png",
        mood: "heartbreak",
        color: "Black / Red",
        age: "new",
      },
      {
        id: "tee-lollipop",
        name: "Girl Lollipop Tee",
        type: "tee",
        price: 25,
        tag: "Drop 001",
        img: "hoodie-lollipop.png",
        imgAlt: "hoodie-lollipop.png",
        mood: "playful",
        color: "White / Blue / Pink",
        age: "new",
      },
      {
        id: "tee-stackin",
        name: "We Stackin Tee",
        type: "tee",
        price: 25,
        tag: "Drop 001",
        img: "hoodie-slaves.png",
        imgAlt: "hoodie-slaves.png",
        mood: "money",
        color: "Black / Green",
        age: "og",
      },
      {
        id: "tee-motiontherapy",
        name: "MotionTherapy Tee",
        type: "tee",
        price: 25,
        tag: "Drop 001",
        img: "hoodie-motiontherapy.png",
        imgAlt: "hoodie-motiontherapy.png",
        mood: "therapy",
        color: "Black / White",
        age: "og",
      },
    ];

    const productGrid = document.getElementById("productGrid");
    const navPills = document.querySelectorAll(".nav-pill");
    const searchInput = document.getElementById("searchInput");
    const sortSelect = document.getElementById("sortSelect");
    const savedToggle = document.getElementById("savedToggle");
    const cartPill = document.getElementById("cartPill");
    const cartCountEl = document.querySelector("#cartPill .cart-count");

    const detailOverlay = document.getElementById("detailOverlay");
    const detailClose = document.getElementById("detailClose");
    const detailImg = document.getElementById("detailImg");
    const detailType = document.getElementById("detailType");
    const detailName = document.getElementById("detailName");
    const detailPrice = document.getElementById("detailPrice");
    const detailTag = document.getElementById("detailTag");
    const detailMirror = document.getElementById("detailMirror");
    const sizeRow = document.getElementById("sizeRow");
    const detailAdd = document.getElementById("detailAdd");
    const detailFav = document.getElementById("detailFav");
    const sizeGuideBtn = document.getElementById("sizeGuideBtn");

    const cartOverlay = document.getElementById("cartOverlay");
    const cartClose = document.getElementById("cartClose");
    const cartList = document.getElementById("cartList");
    const cartTotal = document.getElementById("cartTotal");

    const sizeOverlay = document.getElementById("sizeOverlay");
    const sizeClose = document.getElementById("sizeClose");

    let currentFilter = "all";
    let currentSearch = "";
    let currentSort = "featured";
    let savedOnly = false;
    let cartCount = 0;
    let cartItems = [];
    let currentDetailProduct = null;
    let savedSet = new Set();
    let revealObserver = null;

    // Load favorites + cart from localStorage
    (function initState() {
      try {
        const savedRaw = localStorage.getItem("zonSaved");
        if (savedRaw) {
          savedSet = new Set(JSON.parse(savedRaw));
        }
      } catch (e) {}

      try {
        const cartRaw = localStorage.getItem("zonCart");
        if (cartRaw) {
          const parsed = JSON.parse(cartRaw);
          if (Array.isArray(parsed)) {
            cartItems = parsed;
            cartCount = cartItems.length;
            if (cartCountEl) {
              cartCountEl.textContent = String(cartCount);
            }
          }
        }
      } catch (e) {}
    })();

    function mirrorLine(product) {
      const base = [
        "You‚Äôre not just buying a piece‚Äîyou‚Äôre buying a standard for yourself.",
        "Some people wear whatever‚Äôs clean. Some people wear where they‚Äôre headed.",
        "This doesn‚Äôt fix your life. It just matches the version of you that already is.",
        "You design your days. The hoodie just comes along for the ride.",
      ];
      const heartbreak = [
        "For nights you‚Äôre quiet but your chest still loud.",
        "If they didn‚Äôt understand you, this will.",
      ];
      const money = [
        "Money moves don‚Äôt post themselves; they show up in how you walk in the room.",
        "You stack first, flex later.",
      ];
      const therapy = [
        "Therapy is every rep, every page, every time you didn‚Äôt fold.",
        "MotionTherapy isn‚Äôt talking about change‚Äîit‚Äôs putting it on.",
      ];
      const dark = [
        "You‚Äôre allowed to be complicated and still chosen.",
        "This is for the version of you that doesn‚Äôt ask permission anymore.",
      ];
      const playful = [
        "Some days your mood is serious. Some days it‚Äôs ‚ÄúI‚Äôm still that one.‚Äù",
        "If your inner child had a closet, this would be hanging in it.",
      ];

      let pool = [...base];
      const m = product.mood;
      if (m === "heartbreak") pool = pool.concat(heartbreak);
      if (m === "money" || m === "grind") pool = pool.concat(money);
      if (m === "therapy") pool = pool.concat(therapy);
      if (m === "dark") pool = pool.concat(dark);
      if (m === "playful") pool = pool.concat(playful);

      return pool[Math.floor(Math.random() * pool.length)];
    }

    function saveFavorites() {
      try {
        localStorage.setItem("zonSaved", JSON.stringify([...savedSet]));
      } catch (e) {}
    }

    function saveCartData() {
      try {
        localStorage.setItem("zonCart", JSON.stringify(cartItems));
      } catch (e) {}
    }

    function addToCart(product, size) {
      cartItems.push({
        id: product.id,
        name: product.name,
        price: product.price,
        size,
      });
      cartCount = cartItems.length;
      if (cartCountEl) {
        cartCountEl.textContent = String(cartCount);
      }
      saveCartData();
    }

    function setupRevealObserver() {
      if (revealObserver) {
        revealObserver.disconnect();
      }

      revealObserver = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.classList.remove("hidden");
              entry.target.classList.add("show");
              revealObserver.unobserve(entry.target);
            }
          });
        },
        {
          threshold: 0.1,
        }
      );

      const cards = document.querySelectorAll(".product-card");
      cards.forEach((card, index) => {
        card.classList.add("hidden");
        setTimeout(() => {
          revealObserver.observe(card);
        }, index * 40);
      });
    }

    function attachHoverSwap(imgEl, product) {
      const primary = product.img;
      const alt = product.imgAlt || product.img;
      imgEl.dataset.primary = primary;
      imgEl.dataset.alt = alt;

      imgEl.addEventListener("mouseenter", () => {
        imgEl.src = imgEl.dataset.alt;
      });

      imgEl.addEventListener("mouseleave", () => {
        imgEl.src = imgEl.dataset.primary;
      });
    }

    function renderProducts() {
      let fullList = products.slice();

      if (currentFilter !== "all") {
        fullList = fullList.filter((p) => p.type === currentFilter);
      }

      if (currentSearch.trim()) {
        const q = currentSearch.trim().toLowerCase();
        fullList = fullList.filter((p) => p.name.toLowerCase().includes(q));
      }

      if (savedOnly) {
        fullList = fullList.filter((p) => savedSet.has(p.id));
      }

      if (currentSort === "priceLow") {
        fullList.sort((a, b) => a.price - b.price);
      } else if (currentSort === "priceHigh") {
        fullList.sort((a, b) => b.price - a.price);
      } else if (currentSort === "name") {
        fullList.sort((a, b) => a.name.localeCompare(b.name));
      }

      const total = fullList.length;

      if (total === 0) {
        productGrid.innerHTML = `
          <div class="empty-state">
            ${
              savedOnly
                ? "Nothing saved yet. First favorite = first version of you."
                : "No pieces match this search yet. Try clearing filters."
            }
          </div>
        `;
        return;
      }

      productGrid.innerHTML = "";

      fullList.forEach((p) => {
        const card = document.createElement("article");
        card.className = "product-card";
        card.dataset.id = p.id;

        const imgWrap = document.createElement("div");
        imgWrap.className = "product-img";

        const img = document.createElement("img");
        img.src = p.img;
        img.alt = p.name;
        attachHoverSwap(img, p);
        imgWrap.appendChild(img);

        const savedBtn = document.createElement("button");
        savedBtn.type = "button";
        savedBtn.className = "badge-secondary";
        if (savedSet.has(p.id)) savedBtn.classList.add("active");
        savedBtn.innerHTML = `<span class="badge-heart">‚ô•</span><span>Save</span>`;
        imgWrap.appendChild(savedBtn);

        const infoTop = document.createElement("div");
        infoTop.className = "product-info-top";

        const nameWrap = document.createElement("div");
        nameWrap.className = "name-wrap";

        const nameEl = document.createElement("div");
        nameEl.className = "product-name";
        nameEl.textContent = p.name;
        nameWrap.appendChild(nameEl);

        if (p.age) {
          const ageEl = document.createElement("div");
          ageEl.className =
            "product-age " + (p.age === "new" ? "product-age-new" : "product-age-og");
          ageEl.textContent = p.age === "new" ? "NEW" : "OG";
          nameWrap.appendChild(ageEl);
        }

        const priceEl = document.createElement("div");
        priceEl.className = "product-price";
        priceEl.textContent = `$${p.price.toFixed(2)}`;

        infoTop.appendChild(nameWrap);
        infoTop.appendChild(priceEl);

        const metaEl = document.createElement("div");
        metaEl.className = "product-meta";
        metaEl.textContent =
          p.type === "hoodie"
            ? "Heavy rotation hoodie for gym, class, and quiet nights."
            : "Graphic tee for everyday motion.";

        const colorEl = document.createElement("div");
        colorEl.className = "product-color";
        colorEl.textContent = p.color ? `Color: ${p.color}` : "";

        const typeEl = document.createElement("div");
        typeEl.className = "product-type";
        typeEl.textContent = p.type === "hoodie" ? "Hoodie" : "Tee";

        card.appendChild(imgWrap);
        card.appendChild(infoTop);
        card.appendChild(metaEl);
        card.appendChild(colorEl);
        card.appendChild(typeEl);

        card.addEventListener("click", (e) => {
          if (e.target.closest(".badge-secondary")) return;
          openDetail(p);
        });

        savedBtn.addEventListener("click", (e) => {
          e.stopPropagation();
          toggleSaved(p.id, savedBtn);
        });

        productGrid.appendChild(card);
      });

      setupRevealObserver();
    }

    function toggleSaved(id, btn) {
      if (savedSet.has(id)) {
        savedSet.delete(id);
        btn.classList.remove("active");
      } else {
        savedSet.add(id);
        btn.classList.add("active");
      }
      saveFavorites();
      if (savedOnly) {
        renderProducts();
      }
    }

    navPills.forEach((pill) => {
      pill.addEventListener("click", () => {
        navPills.forEach((p) => p.classList.remove("active"));
        pill.classList.add("active");
        currentFilter = pill.dataset.filter;
        renderProducts();
      });
    });

    searchInput.addEventListener("input", () => {
      currentSearch = searchInput.value;
      renderProducts();
    });

    sortSelect.addEventListener("change", () => {
      currentSort = sortSelect.value;
      renderProducts();
    });

    savedToggle.addEventListener("click", () => {
      savedOnly = !savedOnly;
      savedToggle.classList.toggle("active", savedOnly);
      renderProducts();
    });

    function openDetail(product) {
      currentDetailProduct = product;
      detailImg.src = product.img;
      detailName.textContent = product.name;
      detailType.textContent =
        product.type === "hoodie"
          ? "Hoodie ¬∑ Drop 001"
          : "Tee ¬∑ Drop 001";
      detailPrice.textContent = `$${product.price.toFixed(2)}`;
      detailTag.textContent = product.tag || "Drop 001";

      detailMirror.textContent = mirrorLine(product);

      sizeRow.querySelectorAll(".size-pill").forEach((b) => {
        b.classList.toggle("active", b.dataset.size === "M");
      });

      if (savedSet.has(product.id)) {
        detailFav.textContent = "‚ô• Saved";
      } else {
        detailFav.textContent = "‚ô• Save";
      }

      detailOverlay.classList.add("open");
    }

    function closeDetail() {
      detailOverlay.classList.remove("open");
      currentDetailProduct = null;
    }

    detailClose.addEventListener("click", closeDetail);
    detailOverlay.addEventListener("click", (e) => {
      if (e.target === detailOverlay) closeDetail();
    });

    sizeRow.querySelectorAll(".size-pill").forEach((b) => {
      b.addEventListener("click", () => {
        sizeRow.querySelectorAll(".size-pill").forEach((bb) => bb.classList.remove("active"));
        b.classList.add("active");
      });
    });

    detailAdd.addEventListener("click", () => {
      if (!currentDetailProduct) return;
      const activeSizeBtn = sizeRow.querySelector(".size-pill.active");
      const size = activeSizeBtn ? activeSizeBtn.dataset.size : "M";
      addToCart(currentDetailProduct, size);

      detailAdd.textContent = "Added";
      setTimeout(() => {
        detailAdd.textContent = "Add to cart";
      }, 800);
    });

    detailFav.addEventListener("click", () => {
      if (!currentDetailProduct) return;
      const id = currentDetailProduct.id;
      if (savedSet.has(id)) {
        savedSet.delete(id);
        detailFav.textContent = "‚ô• Save";
      } else {
        savedSet.add(id);
        detailFav.textContent = "‚ô• Saved";
      }
      saveFavorites();
      renderProducts();
    });

    // CART OVERLAY
    function renderCart() {
      cartList.innerHTML = "";

      if (cartItems.length === 0) {
        const empty = document.createElement("div");
        empty.textContent = "Cart is empty. Add a hoodie or tee first.";
        empty.style.fontSize = "0.82rem";
        empty.style.color = "#6b7280";
        cartList.appendChild(empty);
        cartTotal.querySelector("span:last-child").textContent = "$0.00";
        return;
      }

      let total = 0;
      cartItems.forEach((item) => {
        total += item.price;

        const row = document.createElement("div");
        row.className = "cart-item";

        const main = document.createElement("div");
        main.className = "cart-item-main";

        const name = document.createElement("div");
        name.className = "cart-item-name";
        name.textContent = item.name;

        const meta = document.createElement("div");
        meta.className = "cart-item-meta";
        meta.textContent = `Size ${item.size}`;

        main.appendChild(name);
        main.appendChild(meta);

        const price = document.createElement("div");
        price.textContent = `$${item.price.toFixed(2)}`;

        row.appendChild(main);
        row.appendChild(price);

        cartList.appendChild(row);
      });

      cartTotal.querySelector("span:last-child").textContent = `$${total.toFixed(2)}`;
    }

    function openCart() {
      renderCart();
      cartOverlay.classList.add("open");
    }

    function closeCart() {
      cartOverlay.classList.remove("open");
    }

    cartPill.addEventListener("click", openCart);
    cartClose.addEventListener("click", closeCart);
    cartOverlay.addEventListener("click", (e) => {
      if (e.target === cartOverlay) closeCart();
    });

    // SIZE GUIDE OVERLAY
    function openSizeGuide() {
      sizeOverlay.classList.add("open");
    }

    function closeSizeGuide() {
      sizeOverlay.classList.remove("open");
    }

    sizeGuideBtn.addEventListener("click", openSizeGuide);
    sizeClose.addEventListener("click", closeSizeGuide);
    sizeOverlay.addEventListener("click", (e) => {
      if (e.target === sizeOverlay) closeSizeGuide();
    });

    // initial render
    renderProducts();
  </script>
</body>
</html>

